import './polyfills.server.mjs';
import{A as m,B as I,I as q,K as E,L as w,M as k,N as J,O,P as Q,Q as X,R as Z,S as ee,V as te,Z as ie,_ as ne,a as T,aa as N,b as L,ba as re,c as M,d as B,e as z,f as R,g as A,h as G,i as x,j as S,k as b,l as j,m as l,n as d,o as p,p as K,q as u,r as o,s as r,t as f,u as U,v as W,w as y,x as C,y as _,z as a}from"./chunk-5AO2PNLY.mjs";import{a as Y}from"./chunk-KRLCULJA.mjs";var h=class h{};h.HOST="v3.football.api-sports.io",h.BASE_API_URL=`https://${h.HOST}/`,h.API_KEY="6919685f178a943208f0b8c229975acc",h.CURRENT_SEASON=new Date().getFullYear();var g=h,oe=[{country:"England",league_id:39,active:!0},{country:"Spain",league_id:140,active:!1},{country:"Germany",league_id:78,active:!1},{country:"France",league_id:61,active:!1},{country:"Italy",league_id:135,active:!1}];var V=function(e){return e[e.ENGLAND=39]="ENGLAND",e[e.SPAIN=140]="SPAIN",e[e.GERMANY=78]="GERMANY",e[e.FRANCE=61]="FRANCE",e[e.ITALY=135]="ITALY",e}(V||{});var D=(()=>{let t=class t{constructor(){this.cacheStore={},this.currentLeague=V.ENGLAND,this.isLoading=!1}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function xe(e,t){if(e&1){let s=y();o(0,"tr")(1,"td"),a(2),r(),o(3,"td"),f(4,"img",3),r(),o(5,"td")(6,"a",4),C("click",function(){let c=S(s).$implicit,v=_();return b(v.onClickTeam(c.team.id))}),a(7),r()(),o(8,"td"),a(9),r(),o(10,"td"),a(11),r(),o(12,"td"),a(13),r(),o(14,"td"),a(15),r(),o(16,"td"),a(17),r(),o(18,"td"),a(19),r()()}if(e&2){let s=t.$implicit;l(2),m(s.rank),l(2),p("src",s.team.logo,j),l(3),m(s.team.name),l(2),m(s.all.played),l(2),m(s.all.win),l(2),m(s.all.lose),l(2),m(s.all.draw),l(2),m(s.goalsDiff),l(2),m(s.points)}}function Se(e,t){e&1&&(o(0,"h2",5),a(1,"No Data Found"),r())}var le=(()=>{let t=class t{constructor(n,i){this.globalService=n,this.router=i,this.router.events.subscribe(()=>{let c=this.router.getCurrentNavigation();c&&c.extras.state&&(this.leagueStandingData=c.extras.state.data.response[0]?.league.standings[0],this.globalService.isLoading=!1)})}onClickTeam(n){this.globalService.isLoading=!0,this.router.navigate(["/teams",n])}};t.\u0275fac=function(i){return new(i||t)(d(D),d(N))},t.\u0275cmp=x({type:t,selectors:[["app-league-standing"]],standalone:!0,features:[I],decls:23,vars:2,consts:[[1,"px-4","pb-4"],[4,"ngFor","ngForOf"],["class","w-100 text-center pt-5",4,"ngIf"],["width","30","alt","team logo",3,"src"],["href","javascript:void(0)",1,"link-offset-2","link-offset-3-hover","link-underline","link-underline-opacity-0","link-underline-opacity-75-hover",3,"click"],[1,"w-100","text-center","pt-5"]],template:function(i,c){i&1&&(o(0,"div",0)(1,"table")(2,"tHead")(3,"tr"),f(4,"th")(5,"th"),o(6,"th"),a(7,"Name"),r(),o(8,"th"),a(9,"Games"),r(),o(10,"th"),a(11,"W"),r(),o(12,"th"),a(13,"L"),r(),o(14,"th"),a(15,"D"),r(),o(16,"th"),a(17,"Goal Difference"),r(),o(18,"th"),a(19,"Points"),r()()(),o(20,"tBody"),u(21,xe,20,9,"tr",1),r()(),u(22,Se,2,0,"h2",2),r()),i&2&&(l(21),p("ngForOf",c.leagueStandingData),l(1),p("ngIf",!c.leagueStandingData))},dependencies:[k,E,w],styles:["table[_ngcontent-%COMP%]{border-collapse:collapse;width:100%}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #ddd;padding:8px;text-align:center}"]});let e=t;return e})();var H=(()=>{let t=class t{constructor(n){this.httpClient=n}get(n,i,c){let v=g.BASE_API_URL+i,F=new J().append("x-rapidapi-key",g.API_KEY).append("x-rapidapi-host",g.HOST);return this.httpClient.get(v,Y({params:n,headers:F},c))}};t.\u0275fac=function(i){return new(i||t)(G(Q))},t.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function be(e,t){if(e&1){let s=y();U(0),o(1,"a",5),C("click",function(){let c=S(s).$implicit,v=_();return b(v.onClickLeague(c))}),a(2),r(),W()}if(e&2){let s=t.$implicit;l(1),K("navbar-brand nav-link ",s.active?"active":"",""),p("id",s.country.toLowerCase()+"Select"),l(1),m(s.country)}}function ye(e,t){e&1&&(o(0,"div",6)(1,"div",7)(2,"span",8),a(3,"Loading..."),r()()())}var me=(()=>{let t=class t{get isLoading(){return this.globalService.isLoading}constructor(n,i,c){this.globalService=n,this.httpService=i,this.router=c,this._onDestroy$=new T,this.navItems=structuredClone(oe)}ngOnDestroy(){this._onDestroy$.next()}ngOnInit(){this.navItems.forEach(n=>{let i=new O().append("league",n.league_id).append("season",g.CURRENT_SEASON),c={redirect:"follow"};this.globalService.cacheStore[n.league_id]=this.httpService.get(i,"standings",c).pipe(z(1))}),this.navigateLeague(this.navItems[0])}onClickLeague(n){n.active||(this.navItems.map(i=>(i.league_id===n.league_id?(i.active=!0,this.globalService.currentLeague=i.league_id):i.active=!1,i)),this.navigateLeague(n))}navigateLeague(n){this.globalService.isLoading=!0,this.globalService.cacheStore[n.league_id].pipe(R(this._onDestroy$),M(i=>L(()=>console.log(i)))).subscribe(i=>{this.router.navigate(["/"],{state:{data:i}})})}};t.\u0275fac=function(i){return new(i||t)(d(D),d(H),d(N))},t.\u0275cmp=x({type:t,selectors:[["app-root"]],standalone:!0,features:[I],decls:6,vars:2,consts:[[1,"container","p-4","big-image"],[1,"navbar","bg-body-tertiary","rounded-pill","nav-underline"],[1,"container-fluid","justify-content-around"],[4,"ngFor","ngForOf"],["id","spinner","class","d-flex justify-content-center align-items-center","style","backdrop-filter: brightness(.5);",4,"ngIf"],["href","javascript:void(0)",3,"id","click"],["id","spinner",1,"d-flex","justify-content-center","align-items-center",2,"backdrop-filter","brightness(.5)"],["role","status",1,"spinner-border"],[1,"visually-hidden"]],template:function(i,c){i&1&&(o(0,"header",0)(1,"nav",1)(2,"div",2),u(3,be,3,5,"ng-container",3),r()()(),u(4,ye,4,0,"div",4),f(5,"router-outlet")),i&2&&(l(3),p("ngForOf",c.navItems),l(1),p("ngIf",c.isLoading))},dependencies:[k,E,w,ne],styles:["#spinner[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;top:0;left:0}"]});let e=t;return e})();function Ce(e,t){if(e&1&&(o(0,"tr")(1,"td"),f(2,"img",4),r(),o(3,"td"),a(4),r(),o(5,"td"),a(6),r(),o(7,"td"),a(8,"-"),r(),o(9,"td"),a(10),r(),o(11,"td"),a(12),r(),o(13,"td"),f(14,"img",5),r()()),e&2){let s=t.$implicit;l(2),p("src",s.teams.away.logo,j),l(2),m(s.teams.away.name),l(2),m(s.goals.away),l(4),m(s.goals.home),l(2),m(s.teams.home.name),l(2),p("src",s.teams.home.logo,j)}}function _e(e,t){if(e&1){let s=y();o(0,"button",6),C("click",function(){S(s);let i=_();return b(i.onClickBack())}),a(1,"Back"),r()}}var pe=(()=>{let t=class t{constructor(n,i,c,v){this.route=n,this.router=i,this.httpService=c,this.globalService=v,this._onDestroy$=new T,this.route.params.pipe(B(F=>{let fe=new O().append("team",F.id).append("season",g.CURRENT_SEASON),ve={redirect:"follow"};return this.httpService.get(fe,"fixtures",ve).pipe(R(this._onDestroy$),M(he=>L(()=>console.log(he))))})).subscribe(F=>{this.gameResults=F.response.slice(0,10),this.globalService.isLoading=!1})}onDestroy(){this._onDestroy$.next()}onClickBack(){this.globalService.isLoading=!0,this.globalService.cacheStore[this.globalService.currentLeague].pipe(R(this._onDestroy$),M(n=>L(()=>console.log(n)))).subscribe(n=>{this.router.navigate(["/"],{state:{data:n}})})}};t.\u0275fac=function(i){return new(i||t)(d(ie),d(N),d(H),d(D))},t.\u0275cmp=x({type:t,selectors:[["app-team"]],standalone:!0,features:[I],decls:4,vars:2,consts:[[1,"px-4","pb-4"],[1,"w-100"],[4,"ngFor","ngForOf"],["type","button","class","btn btn-primary mt-4 w-25",3,"click",4,"ngIf"],["width","30","alt","away team logo",3,"src"],["width","30","alt","home team logo",3,"src"],["type","button",1,"btn","btn-primary","mt-4","w-25",3,"click"]],template:function(i,c){i&1&&(o(0,"div",0)(1,"table",1),u(2,Ce,15,6,"tr",2),r(),u(3,_e,2,0,"button",3),r()),i&2&&(l(2),p("ngForOf",c.gameResults),l(1),p("ngIf",c.gameResults))},dependencies:[k,E,w],styles:["table[_ngcontent-%COMP%]{border-collapse:separate;border-spacing:0;border:1px solid #ddd;border-radius:20px}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:8px;text-align:center}"]});let e=t;return e})();var de=[{path:"",component:le},{path:"teams/:id",component:pe}];var ge={providers:[re(de),ee(),X()]};var Ie={providers:[te()]},ue=q(ge,Ie);var Ee=()=>Z(me,ue),ct=Ee;export{ct as a};
